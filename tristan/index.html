<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Level 1</title>
  <link rel="icon" href="https://aframe.io/images/aframe-logo-192.png" />
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="level1.js"></script>
</head>

<body>
  <a-scene>
    <a-sky color="#00FF00"></a-sky>

<!-- WIP, TESTS -->
<script>
AFRAME.registerComponent('rotation-reader', {
  tick: function () {
    let hudtxt = document.getElementById('hud').getAttribute('text');
    hudtxt.value = document.querySelector('[camera]').getAttribute('rotation').y;
    document.getElementById('hud').setAttribute('text', hudtxt.value);
    console.log......
  }
});
</script>
<a-entity rotation-reader></a-entity>
<a-box id="clickme" material="color: #444; shader: flat" raycastable></a-box>

    <!-- add entities for raycaster and oculus controls -->
    <a-entity laser-controls raycaster="objects: [data-raycastable]; far: 0.8"></a-entity>
    <a-entity oculus-go-controls="hand: right" triggerlistener></a-entity>

    <!-- map/level -->
    <a-entity id="map" position="0 0.5 -3" map>
      <!-- floors -->
      <a-box position="0 0 1" material="color: #FFF; shader: flat; src: textures/texture.png"></a-box>
      <a-box position="0 0 2" material="color: #FFF; shader: flat; src: textures/texture.png"></a-box>
      <a-box position="0 0 3" material="color: #FFF; shader: flat; src: textures/texture.png"></a-box>
      <!-- left walls -->
      <a-box position="-1 1 0" material="color: #00F"></a-box>
      <a-box position="-1 1 1" material="color: #00F"></a-box>
      <a-box position="-1 1 2" material="color: #00F"></a-box>
      <a-box position="-1 1 3" material="color: #00F"></a-box>
      <!-- right walls -->
      <a-box position="1 1 0" material="color: #F00"></a-box>
      <a-box position="1 1 1" material="color: #F00"></a-box>
      <a-box position="1 1 2" material="color: #F00"></a-box>
      <a-box position="1 1 3" material="color: #F00"></a-box>
      <!-- ceilings -->
      <a-box position="0 2 0" material="color: #888"></a-box>
      <a-box position="0 2 1" material="color: #888"></a-box>
      <a-box position="0 2 2" material="color: #888"></a-box>
      <a-box position="0 2 3" material="color: #888"></a-box>
    </a-entity>

  </a-scene>
});

</body>
</html>
